/**
 * @file prog01/app/inc/user/pwmaudiodrv.h
 *
 * @date 2024.10.21 k.shibata newly created
 */

#if !defined(USER_PWMAUDIODRV_H__)
#define USER_PWMAUDIODRV_H__

//////////////////////////////////////////////////////////////////////////////
// includes
//////////////////////////////////////////////////////////////////////////////

#include <user/types.h>

#include <stddef.h>
#include <stdint.h>

//////////////////////////////////////////////////////////////////////////////
// defines
//////////////////////////////////////////////////////////////////////////////

//////////////////////////////////////////////////////////////////////////////
// typedef
//////////////////////////////////////////////////////////////////////////////

typedef void* AudioDrvHandle_t;

//////////////////////////////////////////////////////////////////////////////
// prototype
//////////////////////////////////////////////////////////////////////////////

#ifdef __cplusplus
extern "C" {
#endif  //__cplusplus

/**
 * @brief オーディオ出力を開始する
 * @param [in] ctx : 処理対象
 * @return 処理結果
 * @retval uSuccess : 処理成功
 * @retval uSuccess 以外 : 処理失敗
 */
UError_t AudioDrv_Open(AudioDrvHandle_t* pHandle);

/**
 * @brief オーディオ出力を開始する.
 * オーディオ出力を開始します.
 * @param [in] handle : 処理対象
 * @retval uSuccess : 処理成功
 * @retval uSuccess 以外 : 処理失敗
 */
UError_t AudioDrv_Start(AudioDrvHandle_t handle);

/**
 * @brief オーディオバッファにサンプルデータ(uint8_t 0x00 - 0xff) を書き込みます.
 *
 * @param [in] handle : 処理対象
 * @param [in] src : 書き込むサンプルデータ
 * @param [in] size : サンプルデータのバイト数
 * @return 処理結果
 * @retval 0 以上 : 書き込んだバイト数
 * @retval -1 : 処理失敗
 */
int32_t AudioDrv_WriteSample(AudioDrvHandle_t handle, const void* src, size_t size);

#ifdef __cplusplus
}
#endif  //__cplusplus

//////////////////////////////////////////////////////////////////////////////
// variable
//////////////////////////////////////////////////////////////////////////////

//////////////////////////////////////////////////////////////////////////////
// function
//////////////////////////////////////////////////////////////////////////////

#endif  //! defined(USER_PWMAUDIODRV_H__)
